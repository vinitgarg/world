pipeline{
           agent any
           tools{
                   maven 'Maven'
                  }
             stages {
             
                    stage("Code Checkout") {
                                steps {
                                       git url: 'https://github.com/vinitgarg/world.git'
                                      }
                                     }
             
             
                      stage("Build Stage"){
                         steps{
                                 bat 'mvn package'
                                 
                                 }
                        }
                       stage('Compile Stage')
                       {
                           steps{
                                   bat 'mvn clean compile'
                                 }
                        }         
                                 
                         stage('Testing Stage')
                         {
                             steps{
                                     bat 'mvn test'
                                  }
                            }
                    
                        
                             
                             stage('Artifact Deploy'){
                                         steps{
                                      rtServer (id: 'artifactory',url: 'http://localhost:8081/artifactory',username: 'admin',password: 'password')
                                      rtUpload (serverId: 'artifactory',spec: '''{"files": [{ "pattern": "/**.war ","target": "my/ "}]}''')
                                      }
                                     }
                             }
                           
                     }
                        
                              
                            
        
                                
